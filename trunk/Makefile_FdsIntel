# PFS4.0
# Makefile for Intel Fortran 9.1 on Cygwin
#
# Shell to be used
SHELL =	/bin/bash
# ALLA HYVAT TUOTANTOVERSION OPTIOT
# FFLAGS	= -nologo -c -threads  -libs:dll -winapp -Qvc7.1 \
FFLAGS	= -c -nologo -Qvc7.1 -winapp -4Yportlib
#	  -Qlocation,link,"C:\Program Files\Microsoft Visual Studio .NET 2003\Vc7\bin" 
#	  -libs:dll -4Yportlib  \
#FFLAGS	= -nologo -c -traceback -check:bounds -check:uninit -O3 -Qvc7.1 \
#	  -automatic -assume:buffered_io -warn:all \
#	  -Qlocation,link,"C:\Program Files\Microsoft Visual Studio .NET 2003\Vc7\bin" 
#FFLAGS	= -nologo -c -traceback -check:bounds -check:uninit -O3 -Qvc7.1 \
#	  -automatic -assume:buffered_io -warn:usage -warn:declarations \
#	  -warn:uncalled -warn:unused -warn:usage \
#	  -Qlocation,link,"C:\Program Files\Microsoft Visual Studio .NET 2003\Vc7\bin" 
#
LFLAGS	= -INCREMENTAL:NO -NOLOGO -SUBSYSTEM:WINDOWS -DLL
#
FCOMPL  = "C:/Program\ Files/Intel/Compiler/Fortran/9.1/IA32/bin/ifort.exe"
LCOMPL	= "C:/Program\ Files/Microsoft\ Visual\ Studio\ .NET\ 2003/Vc7/bin/link.exe"
# 
# Name of the project (the main program)
obj	= CallFDS_Pfs
#
.SUFFIXES:
.SUFFIXES:	.obj .f90 .mod
#
# now define dependencies and activities
#
.f90.obj:	
	"$(FCOMPL)" -c -nologo -Qvc7.1 -threads -winapp -4Yportlib -Qlocation,link,"C:\Program Files\Microsoft Visual Studio .NET 2003\Vc7\bin"  $<
#	"$(FCOMPL)" "$(FFLAGS)" $<
#
# Files to be linked (and compiled)
OBJECTS	= CallFDS_Pfs.obj
#
APPLIC: $(OBJECTS)
	"$(LCOMPL)" $(LFLAGS) $(OBJECTS)
	echo 'Done ' $(obj).dll
#	"$(LCOMPL)" -OUT:$(obj).dll $(LFLAGS) $(OBJECTS)

$(obj).obj:	$(obj).f90
#$(obj).dll:	$(obj).f90 $(obj).obj
#
##################################################################
